# Pinia Store æ¶æ„è®¾è®¡

## ğŸ—ï¸ æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Vue 3 åº”ç”¨                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Pinia çŠ¶æ€ç®¡ç†                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Store æ¨¡å— (modules/)                   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚  user.ts     â”‚  â”‚  app.ts      â”‚  â”‚counter.ts  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  (è®¤è¯)      â”‚  â”‚  (å…¨å±€)      â”‚  â”‚ (ç¤ºä¾‹)     â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                     â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                      â”‚  â”‚
â”‚  â–¼                                                      â–¼  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚  Plugins         â”‚                    â”‚ Composables    â”‚â”‚
â”‚ â”‚  (plugins/)      â”‚                    â”‚ (composables/) â”‚â”‚
â”‚ â”‚                  â”‚                    â”‚                â”‚â”‚
â”‚ â”‚ â€¢ Logger         â”‚                    â”‚ â€¢ useAuth      â”‚â”‚
â”‚ â”‚ â€¢ Persist        â”‚                    â”‚ â€¢ usePermissionâ”‚â”‚
â”‚ â”‚ â€¢ Reset          â”‚                    â”‚ â€¢ useNotif     â”‚â”‚
â”‚ â”‚                  â”‚                    â”‚ â€¢ useTheme     â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼            â–¼            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ç»„ä»¶   â”‚  â”‚ è·¯ç”±   â”‚  â”‚ æœåŠ¡    â”‚
    â”‚ Vue    â”‚  â”‚ Guard  â”‚  â”‚ API     â”‚
    â”‚ 3      â”‚  â”‚        â”‚  â”‚         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ Store æ¨¡å—è®¾è®¡

### User Store (ç”¨æˆ·è®¤è¯)

```
useUserStore()
â”œâ”€â”€ State
â”‚   â”œâ”€â”€ userInfo: UserInfo
â”‚   â”œâ”€â”€ isLoggedIn: boolean
â”‚   â””â”€â”€ loading: boolean
â”œâ”€â”€ Computed
â”‚   â”œâ”€â”€ userName: string
â”‚   â””â”€â”€ isAdmin: boolean
â””â”€â”€ Actions
    â”œâ”€â”€ setUserInfo(info)
    â”œâ”€â”€ login(email, password)
    â”œâ”€â”€ logout()
    â””â”€â”€ updateProfile(updates)
```

### App Store (åº”ç”¨å…¨å±€)

```
useAppStore()
â”œâ”€â”€ State
â”‚   â”œâ”€â”€ theme: 'light' | 'dark'
â”‚   â”œâ”€â”€ sidebarCollapsed: boolean
â”‚   â””â”€â”€ notifications: Notification[]
â”œâ”€â”€ Computed
â”‚   â”œâ”€â”€ isDarkMode: boolean
â”‚   â””â”€â”€ notificationCount: number
â””â”€â”€ Actions
    â”œâ”€â”€ toggleTheme()
    â”œâ”€â”€ setTheme(theme)
    â”œâ”€â”€ toggleSidebar()
    â”œâ”€â”€ addNotification(message, type, duration)
    â”œâ”€â”€ removeNotification(id)
    â”œâ”€â”€ clearNotifications()
    â””â”€â”€ initTheme()
```

### Counter Store (è®¡æ•°å™¨ç¤ºä¾‹)

```
useCounterStore()
â”œâ”€â”€ State
â”‚   â”œâ”€â”€ count: number
â”‚   â””â”€â”€ history: number[]
â”œâ”€â”€ Computed
â”‚   â”œâ”€â”€ doubled: number
â”‚   â”œâ”€â”€ isEven: boolean
â”‚   â””â”€â”€ historyLength: number
â””â”€â”€ Actions
    â”œâ”€â”€ increment()
    â”œâ”€â”€ decrement()
    â”œâ”€â”€ reset()
    â”œâ”€â”€ setCount(value)
    â””â”€â”€ clearHistory()
```

## ğŸ”Œ æ’ä»¶ç³»ç»Ÿ

```
Pinia Plugins
â”œâ”€â”€ Logger Plugin
â”‚   â”œâ”€â”€ è®°å½• state å˜åŒ–
â”‚   â”œâ”€â”€ è®°å½• action è°ƒç”¨
â”‚   â””â”€â”€ è¾“å‡ºåˆ°æ§åˆ¶å°
â”œâ”€â”€ Persist Plugin
â”‚   â”œâ”€â”€ ä¿å­˜ state åˆ° localStorage
â”‚   â”œâ”€â”€ æ¢å¤ state ä» localStorage
â”‚   â””â”€â”€ æ”¯æŒé€‰æ‹©æ€§æŒä¹…åŒ–
â””â”€â”€ Reset Plugin
    â”œâ”€â”€ æ·»åŠ  $reset() æ–¹æ³•
    â””â”€â”€ æ¢å¤åˆå§‹çŠ¶æ€
```

## ğŸ¨ ç»„åˆå‡½æ•°è®¾è®¡

```
Composables
â”œâ”€â”€ useAuth()
â”‚   â”œâ”€â”€ isAuthenticated
â”‚   â”œâ”€â”€ currentUser
â”‚   â”œâ”€â”€ isLoading
â”‚   â”œâ”€â”€ login()
â”‚   â””â”€â”€ logout()
â”œâ”€â”€ usePermission()
â”‚   â”œâ”€â”€ hasPermission()
â”‚   â”œâ”€â”€ canRead
â”‚   â”œâ”€â”€ canWrite
â”‚   â””â”€â”€ canDelete
â”œâ”€â”€ useNotificationWithUser()
â”‚   â”œâ”€â”€ notifyUser()
â”‚   â””â”€â”€ notifications
â””â”€â”€ useThemeWithNotification()
    â”œâ”€â”€ theme
    â”œâ”€â”€ isDarkMode
    â””â”€â”€ switchTheme()
```

## ğŸ”„ æ•°æ®æµ

### ç”¨æˆ·ç™»å½•æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ç”¨æˆ·åœ¨ç»„ä»¶ä¸­ç‚¹å‡»ç™»å½•æŒ‰é’®                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. è°ƒç”¨ userStore.login(email, password)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Action ä¸­è®¾ç½® loading = true                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. è°ƒç”¨ API è¿›è¡Œè®¤è¯                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 â”‚
        â–¼                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ æˆåŠŸ   â”‚        â”‚ å¤±è´¥   â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
         â”‚                 â”‚
         â–¼                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ä¿å­˜ç”¨æˆ·ä¿¡æ¯ â”‚  â”‚ è®¾ç½®é”™è¯¯ä¿¡æ¯ â”‚
    â”‚ è®¾ç½®ç™»å½•çŠ¶æ€ â”‚  â”‚ å‘é€é”™è¯¯é€šçŸ¥ â”‚
    â”‚ å‘é€æˆåŠŸé€šçŸ¥ â”‚  â”‚              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                 â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ è®¾ç½® loading=falseâ”‚
         â”‚ è¿”å›ç»“æœ         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é€šçŸ¥ç³»ç»Ÿæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. è°ƒç”¨ appStore.addNotification(message, type)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. ç”Ÿæˆå”¯ä¸€ ID å’Œæ—¶é—´æˆ³                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. æ·»åŠ åˆ° notifications æ•°ç»„                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. ç»„ä»¶ç›‘å¬ notifications å˜åŒ–                       â”‚
â”‚    æ˜¾ç¤ºé€šçŸ¥ UI                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. ç­‰å¾…æŒ‡å®šæ—¶é•¿ï¼ˆé»˜è®¤ 3000msï¼‰                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. è‡ªåŠ¨è°ƒç”¨ removeNotification(id)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. ä»æ•°ç»„ä¸­ç§»é™¤é€šçŸ¥                                  â”‚
â”‚    UI è‡ªåŠ¨éšè—                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: é¡µé¢åˆå§‹åŒ–

```
App.vue æŒ‚è½½
    â”‚
    â”œâ”€ appStore.initTheme()      // æ¢å¤ä¸»é¢˜
    â”œâ”€ userStore æ£€æŸ¥ç™»å½•çŠ¶æ€    // æ¢å¤ç”¨æˆ·ä¿¡æ¯
    â””â”€ åŠ è½½å…¶ä»–å¿…è¦æ•°æ®
```

### åœºæ™¯ 2: ç”¨æˆ·äº¤äº’

```
ç”¨æˆ·æ“ä½œ
    â”‚
    â”œâ”€ è°ƒç”¨ store action
    â”œâ”€ action ä¿®æ”¹ state
    â”œâ”€ ç»„ä»¶ç›‘å¬ state å˜åŒ–
    â”œâ”€ ç»„ä»¶é‡æ–°æ¸²æŸ“
    â””â”€ æ’ä»¶è®°å½•å˜åŒ–å’ŒæŒä¹…åŒ–
```

### åœºæ™¯ 3: å¼‚æ­¥æ“ä½œ

```
å¼‚æ­¥æ“ä½œ
    â”‚
    â”œâ”€ è®¾ç½® loading = true
    â”œâ”€ å‘é€ API è¯·æ±‚
    â”œâ”€ å¤„ç†å“åº”
    â”œâ”€ æ›´æ–° state
    â”œâ”€ å‘é€é€šçŸ¥
    â””â”€ è®¾ç½® loading = false
```

## ğŸ“Š çŠ¶æ€æµè½¬å›¾

### ç”¨æˆ·è®¤è¯çŠ¶æ€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æœªç™»å½•    â”‚
â”‚ isLoggedIn  â”‚
â”‚   = false   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ login()
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç™»å½•ä¸­    â”‚
â”‚ loading     â”‚
â”‚   = true    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
    â”Œâ”€â”€â”´â”€â”€â”
    â”‚     â”‚
    â–¼     â–¼
â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”
â”‚æˆåŠŸâ”‚ â”‚å¤±è´¥â”‚
â””â”€â”¬â”€â”€â”˜ â””â”€â”¬â”€â”€â”˜
  â”‚      â”‚
  â–¼      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å·²ç™»å½•     â”‚
â”‚ isLoggedIn   â”‚
â”‚   = true     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ logout()
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æœªç™»å½•    â”‚
â”‚ isLoggedIn  â”‚
â”‚   = false   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸»é¢˜çŠ¶æ€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æµ…è‰²æ¨¡å¼ â”‚
â”‚ light    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ toggleTheme()
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ·±è‰²æ¨¡å¼ â”‚
â”‚ dark     â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ toggleTheme()
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æµ…è‰²æ¨¡å¼ â”‚
â”‚ light    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”— ç»„ä»¶ä¸ Store çš„è¿æ¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Vue ç»„ä»¶                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ <script setup>                               â”‚  â”‚
â”‚  â”‚   const userStore = useUserStore()           â”‚  â”‚
â”‚  â”‚   const appStore = useAppStore()             â”‚  â”‚
â”‚  â”‚ </script>                                    â”‚  â”‚
â”‚  â”‚                                              â”‚  â”‚
â”‚  â”‚ <template>                                   â”‚  â”‚
â”‚  â”‚   {{ userStore.userName }}                   â”‚  â”‚
â”‚  â”‚   <button @click="userStore.logout">ç™»å‡º</button>â”‚
â”‚  â”‚ </template>                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                     â”‚                               â”‚
â”‚                     â–¼                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å“åº”å¼ç»‘å®š                                   â”‚  â”‚
â”‚  â”‚ â€¢ çŠ¶æ€å˜åŒ–è‡ªåŠ¨æ›´æ–° UI                        â”‚  â”‚
â”‚  â”‚ â€¢ ç”¨æˆ·äº¤äº’è°ƒç”¨ action                        â”‚  â”‚
â”‚  â”‚ â€¢ è®¡ç®—å±æ€§è‡ªåŠ¨é‡ç®—                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                              â”‚
         â–¼                              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Store State â”‚            â”‚ Store Action â”‚
    â”‚ (å“åº”å¼)    â”‚            â”‚ (æ–¹æ³•)       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ å­¦ä¹ è·¯å¾„

```
åˆå­¦è€…
  â”‚
  â”œâ”€ 1. ç†è§£ Store åŸºç¡€æ¦‚å¿µ
  â”‚     â””â”€ é˜…è¯» README.md
  â”‚
  â”œâ”€ 2. å­¦ä¹  3 ä¸ªç¤ºä¾‹ Store
  â”‚     â”œâ”€ user.ts (è®¤è¯)
  â”‚     â”œâ”€ app.ts (å…¨å±€)
  â”‚     â””â”€ counter.ts (ç®€å•)
  â”‚
  â”œâ”€ 3. æŸ¥çœ‹ç¤ºä¾‹ç»„ä»¶
  â”‚     â””â”€ StoreExample.vue
  â”‚
  â””â”€ 4. åœ¨è‡ªå·±çš„ç»„ä»¶ä¸­ä½¿ç”¨
        â””â”€ åˆ›å»ºç®€å•çš„ store

è¿›é˜¶å¼€å‘è€…
  â”‚
  â”œâ”€ 1. å­¦ä¹ æ’ä»¶ç³»ç»Ÿ
  â”‚     â””â”€ plugins/index.ts
  â”‚
  â”œâ”€ 2. å­¦ä¹ ç»„åˆå‡½æ•°
  â”‚     â””â”€ composables/index.ts
  â”‚
  â”œâ”€ 3. åˆ›å»ºè‡ªå®šä¹‰ Store
  â”‚     â””â”€ modules/custom.ts
  â”‚
  â”œâ”€ 4. é›†æˆ API æœåŠ¡
  â”‚     â””â”€ å¼‚æ­¥æ“ä½œå¤„ç†
  â”‚
  â””â”€ 5. æ€§èƒ½ä¼˜åŒ–
        â””â”€ çŠ¶æ€è®¢é˜…ä¼˜åŒ–
```

## ğŸ“ˆ æ‰©å±•å»ºè®®

### æ·»åŠ æ–°çš„ Store

```typescript
// src/stores/modules/product.ts
export const useProductStore = defineStore('product', () => {
  const products = ref([])
  const loading = ref(false)

  const fetchProducts = async () => {
    loading.value = true
    try {
      products.value = await api.getProducts()
    } finally {
      loading.value = false
    }
  }

  return { products, loading, fetchProducts }
})
```

### æ·»åŠ æ–°çš„ç»„åˆå‡½æ•°

```typescript
// src/stores/composables/index.ts
export const useProductManagement = () => {
  const productStore = useProductStore()
  const appStore = useAppStore()

  const addProduct = async (product) => {
    try {
      await api.addProduct(product)
      await productStore.fetchProducts()
      appStore.addNotification('äº§å“å·²æ·»åŠ ', 'success')
    } catch (error) {
      appStore.addNotification('æ·»åŠ å¤±è´¥', 'error')
    }
  }

  return { addProduct }
}
```

### æ·»åŠ æ–°çš„æ’ä»¶

```typescript
// src/stores/plugins/index.ts
export const createCustomPlugin = () => {
  return (context: PiniaPluginContext) => {
    // è‡ªå®šä¹‰æ’ä»¶é€»è¾‘
  }
}
```

## ğŸ¯ æ€»ç»“

è¿™ä¸ªæ¶æ„è®¾è®¡æä¾›äº†ï¼š

- âœ… æ¸…æ™°çš„æ¨¡å—åŒ–ç»“æ„
- âœ… å®Œæ•´çš„ç±»å‹æ”¯æŒ
- âœ… å¯æ‰©å±•çš„æ’ä»¶ç³»ç»Ÿ
- âœ… å®ç”¨çš„ç»„åˆå‡½æ•°
- âœ… æœ€ä½³å®è·µç¤ºä¾‹
- âœ… è¯¦ç»†çš„æ–‡æ¡£

å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªæ¶æ„ä½œä¸ºé¡¹ç›®çš„çŠ¶æ€ç®¡ç†åŸºç¡€ï¼
